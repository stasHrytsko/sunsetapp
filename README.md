# sunsetapp

Структура кода (блоки сверху вниз)

SunCalc (~строки 1–50) — астрономия. Считает время заката, golden hour, азимут. Трогать не нужно — математика стабильная.

Config — VALENCIA = { lat, lng }. Если захочешь другой город — меняешь тут.

API fetching (~fetchWeatherData, buildWeekForecast, buildToday) — забирает данные из Open-Meteo, собирает массив на 7 дней. Для каждого дня берёт hourly данные на час заката.

calcScore() — ⭐ главный блок для калибровки. Формула скоринга. Вот что крутить:
Что менять
Где в коде
Зачем
Веса факторов

cs*0.35 + hs*0.20 + vs*0.15...
Облака слишком доминируют? Уменьши 0.35

Идеальные диапазоны
humidity >= 55 && humidity <= 75 ? 100
Если 60% влажности даёт бледный закат — сузь диапазон

Баллы за попаданиеc
loudHigh >= 20 → cs += 50
Если высокие облака 30% дают крутой результат, а 20% — нет, подвинь порог

Пороги вердикта
if (t >= 81) в getVerdict()
Слишком часто пишет "иди"? Подними с 81 до 85

getVerdict() — генерирует текстовое объяснение. Набор if/else — добавляй/убирай фразы.

getSpots() — список мест + логика ранжирования. Захардкожены 5 точек Валенсии.

UI-компоненты — ScoreRing, FactorScale, CloudFactor, VerdictBlock, ViewingWindow, WeekCalendar, SpotCard. Чистая визуализация.

Что калибровать в первую очередь
Каждый вечер: смотри скор → смотри реальный закат → записывай. Через 2 недели поймёшь:

Облачность завышает/занижает? → правь веса в calcScore

Видимость 78 км сегодня — закат бледный? → значит порог visKm > 25 → 40 нужно ужесточить
